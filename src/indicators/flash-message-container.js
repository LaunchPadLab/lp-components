import React from 'react'
import PropTypes from 'prop-types'
import { flashMessageType } from 'redux-flash'
import FlashMessage from './flash-message'

/**
 *
 * A component that displays multiple flash messages generated by [redux-flash](https://github.com/LaunchPadLab/redux-flash).
 * Most apps will need only one of these containers, at the top level.
 * 
 * @name FlashMessageContainer
 * @type Function
 * @param {Object} messages - The flash messages that will be displayed.
 * @example
 * 
 * function MyApp ({ messages }) {
 *   return (
 *      <div>
 *         <FlashMessageContainer messages={ messages } />
 *         <RestOfTheApp />
 *      </div>
 *   )
 * }
 *
**/

const propTypes = {
  messages: PropTypes.arrayOf(flashMessageType).isRequired,
}

const defaultProps = {}

function FlashMessageContainer ({ messages }) {
  return (
    <div className="flash-message-container">
    {
      messages.map(message => 
        <FlashMessage key={ message.id } message={ message } />
      )
    }
    </div>
  )
}

FlashMessageContainer.propTypes = propTypes
FlashMessageContainer.defaultProps = defaultProps

export default FlashMessageContainer
